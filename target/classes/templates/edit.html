<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="editEmp.css" />
    <title>Edit Employee Details</title>
    <style>
      .d-none {
        display: none;
      }
      .form__group {
        margin-bottom: 15px;
      }
      .btncontainer {
        margin-top: 20px;
      }
      .submit {
        padding: 10px 20px;
        background-color: #4caf50;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      .submit:hover {
        background-color: #45a049;
      }
      .form__field.error {
		  border-color: red;
		  background-color: #ffe6e6;
		}
      
    </style>
  </head>
  <body>
    <div class="container">
      <h2>Edit Employee Details</h2>
      <form id="editEmployeeForm">
        <div class="form__group">
          <select id="editField" class="form__field" onchange="showEditField()">
            <option value="">Select a field to edit</option>
            <option value="fullName">Full Name</option>
            <option value="dateOfBirth">Date of Birth</option>
            <option value="age">Age</option>
            <option value="gender">Gender</option>
            <option value="currentCity">Current City</option>
            <option value="currentAddress">Current Address</option>
            <option value="mobile">Mobile</option>
            <option value="email">Email</option>
            <option value="emergencyContactName">Emergency Contact Name</option>
            <option value="emergencyContactMobile">
              Emergency Contact Mobile
            </option>
            <option value="employmentCode">Employment Code</option>
            <option value="companyMail">Company Mail</option>
            <option value="officePhone">Office Phone</option>
            <option value="officeAddress">Office Address</option>
            <option value="reportingManager">Reporting Manager</option>
            <option value="hrName">HR Name</option>
            <option value="employmentHistory">Employment History</option>
            <option value="dateOfJoining">Date of Joining</option>
            <option value="panCard">PAN Card</option>
            <option value="aadhaarCard">Aadhaar Card</option>
            <option value="bankDetails">Bank Details</option>
            <option value="ctcBreakup">CTC Breakup</option>
          </select>
        </div>

        <!-- Input fields that will be shown based on selection -->
        <div id="fullNameField" class="form__group d-none">
          <input
            type="text"
            class="form__field"
            placeholder="Enter Full Name"
            spellcheck="false"
            required
          />
        </div>
        <div id="dateOfBirthField" class="form__group d-none">
          <input type="date" class="form__field" required />
        </div>
        <div id="ageField" class="form__group d-none">
          <input
            type="number"
            class="form__field"
            placeholder="Enter Age"
            min="1"
            max="120"
            required
          />
        </div>
        <div id="genderField" class="form__group d-none">
          <select class="form__field" required>
            <option value="">Select Gender</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="other">Other</option>
          </select>
        </div>
        <div id="currentCityField" class="form__group d-none">
          <input
            type="text"
            class="form__field"
            placeholder="Enter Current City"
            required
          />
        </div>
        <div id="currentAddressField" class="form__group d-none">
          <input
            type="text"
            class="form__field"
            placeholder="Enter Current Address"
            required
          />
        </div>
        <div id="mobileField" class="form__group d-none">
          <input
            type="tel"
            class="form__field"
            placeholder="Enter Mobile Number"
            pattern="\d{10}"
            required
          />
        </div>
        <div id="emailField" class="form__group d-none">
          <input
            type="email"
            class="form__field"
            placeholder="Enter Email"
            required
          />
        </div>
        <div id="emergencyContactNameField" class="form__group d-none">
          <input
            type="text"
            class="form__field"
            placeholder="Enter Emergency Contact Name"
            required
          />
        </div>
        <div id="emergencyContactMobileField" class="form__group d-none">
          <input
            type="tel"
            class="form__field"
            placeholder="Enter Emergency Contact Mobile"
            pattern="\d{10}"
            required
          />
        </div>
        <div id="employmentCodeField" class="form__group d-none">
          <input
            type="number"
            class="form__field"
            placeholder="Enter Employment Code (6 Digits)"
            min="100000"
            max="999999"
            required
          />
        </div>
        <div id="companyMailField" class="form__group d-none">
          <input
            type="email"
            class="form__field"
            placeholder="Enter Company Mail"
            required
          />
        </div>
        <div id="officePhoneField" class="form__group d-none">
          <input
            type="tel"
            class="form__field"
            placeholder="Enter Office Phone"
            pattern="\d{8,12}"
            required
          />
        </div>
        <div id="officeAddressField" class="form__group d-none">
          <input
            type="text"
            class="form__field"
            placeholder="Enter Office Address Line 1"
            required
          />
          <input
            type="text"
            class="form__field"
            placeholder="Enter Office Address Line 2"
          />
          <input
            type="number"
            class="form__field"
            placeholder="Enter Pin Code (6 Digits)"
            min="100000"
            max="999999"
            required
          />
        </div>
        <div id="reportingManagerField" class="form__group d-none">
          <input
            type="text"
            class="form__field"
            placeholder="Enter Reporting Manager Code or Mail"
            required
          />
        </div>
        <div id="hrNameField" class="form__group d-none">
          <input
            type="text"
            class="form__field"
            placeholder="Enter HR Name"
            required
          />
        </div>
        <div id="employmentHistoryField" class="form__group d-none">
          <textarea
            class="form__field"
            placeholder="Enter Employment History"
            required
          ></textarea>
        </div>
        <div id="dateOfJoiningField" class="form__group d-none">
          <input type="date" class="form__field" required />
        </div>

        <!-- Finance Section -->
        <div id="panCardField" class="form__group d-none">
          <input
            type="text"
            class="form__field"
            placeholder="Enter PAN Card Number"
            required
          />
        </div>
        <div id="aadhaarCardField" class="form__group d-none">
          <input
            type="text"
            class="form__field"
            placeholder="Enter Aadhaar Card Number"
            required
          />
        </div>
        <div id="bankDetailsField" class="form__group d-none">
          <textarea
            class="form__field"
            placeholder="Enter Bank Details"
            required
          ></textarea>
        </div>
        <div id="ctcBreakupField" class="form__group d-none">
          <textarea
            class="form__field"
            placeholder="Enter CTC Breakup"
            required
          ></textarea>
        </div>

        <div class="btncontainer">
          <button class="submit">
            <div class="blob1"></div>
            <div class="blob2"></div>
            <div class="inner">E D I T</div>
          </button>
        </div>
      </form>
    </div>

    <script>
      function showEditField() {
        // Hide all fields initially
        const allFields = [
          "fullNameField",
          "dateOfBirthField",
          "ageField",
          "genderField",
          "currentCityField",
          "currentAddressField",
          "mobileField",
          "emailField",
          "emergencyContactNameField",
          "emergencyContactMobileField",
          "employmentCodeField",
          "companyMailField",
          "officePhoneField",
          "officeAddressField",
          "reportingManagerField",
          "hrNameField",
          "employmentHistoryField",
          "dateOfJoiningField",
          "panCardField",
          "aadhaarCardField",
          "bankDetailsField",
          "ctcBreakupField",
        ];

        allFields.forEach((field) => {
          document.getElementById(field).classList.add("d-none");
        });

        // Show the selected field
        const selectedField = document.getElementById("editField").value;
        if (selectedField) {
          document
            .getElementById(`${selectedField}Field`)
            .classList.remove("d-none");
        }
      }
      const container = document.querySelector(".container");
      
      document.getElementById("editEmployeeForm").onsubmit = function(event) {
    	  let isValid = true;
    	  const fieldsToCheck = [...document.querySelectorAll('.form__field')];

    	  fieldsToCheck.forEach(field => {
    	    if (field.required && !field.value) {
    	      isValid = false;
    	      field.classList.add('error'); // Add an error class for styling
    	    } else {
    	      field.classList.remove('error');
    	    }
    	  });

    	  if (!isValid) {
    	    event.preventDefault(); // Prevent form submission if validation fails
    	    alert("Please fill in all required fields.");
    	  }
    	};


      // On mouse enter (hover), change background and font color
      container.addEventListener("mouseenter", () => {
        document.body.style.backgroundColor = "#000"; // Dark background on hover
        document.body.style.color = "#fff"; // White font on hover
      });

      // On mouse leave, revert back to initial styles
      container.addEventListener("mouseleave", () => {
        document.body.style.backgroundColor = "white"; // Revert to white background
        document.body.style.color = "black"; // Revert to black font
      });
    </script>
  </body>
</html>
